"use strict";(self.webpackChunkKinopoisk=self.webpackChunkKinopoisk||[]).push([[955],{986:function(e,t,n){n.d(t,{S:function(){return u}});var r=n(671),s=n(144),a=n(136),i=n(104),o=n(791),c=n(184),u=function(e){(0,a.Z)(n,e);var t=(0,i.Z)(n);function n(){var e;(0,r.Z)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={hasError:!1},e}return(0,s.Z)(n,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0}),console.log(e,t)}},{key:"render",value:function(){return this.state.hasError?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("p",{}),(0,c.jsx)("h2",{children:"Something went worng"}),(0,c.jsx)("p",{children:"Please try again later"})]}):this.props.children}}]),n}(o.Component)},955:function(e,t,n){n.r(t),n.d(t,{default:function(){return _}});var r=n(439),s=n(791),a=n(87),i=n(689),o=n(41);function c(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=c(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var u=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=c(e))&&(r&&(r+=" "),r+=t);return r},l="MoviesDetails_container__6tWjV",h="MoviesDetails_additional__MKDEz",f="MoviesDetails_goback__vQaZ0",p="MoviesDetails_details__dds5F",d="MoviesDetails_info__PecCF",v="MoviesDetails_img__DRmwy",x=n(986),m=n(184),j=function(){return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:u(l,h),children:[(0,m.jsx)("p",{children:"Additional information"}),(0,m.jsxs)("ul",{children:[(0,m.jsx)("li",{children:(0,m.jsx)(a.rU,{to:"cast",children:"Cast"})}),(0,m.jsx)("li",{children:(0,m.jsx)(a.rU,{to:"reviews",children:"Reviews"})})]})]}),(0,m.jsx)(i.j3,{})]})},_=function(){var e,t,n=(0,i.UO)().id,c=(0,i.TH)(),u=(0,s.useState)(""),h=(0,r.Z)(u,2),_=h[0],g=h[1],y=(0,s.useState)(""),w=(0,r.Z)(y,2),k=w[0],b=w[1],S=(0,s.useState)(""),Z=(0,r.Z)(S,2),D=Z[0],M=Z[1],N=(0,s.useState)(""),C=(0,r.Z)(N,2),E=C[0],F=C[1],U=(0,s.useState)(""),A=(0,r.Z)(U,2),P=A[0],K=A[1],G=(0,s.useState)(""),H=(0,r.Z)(G,2),O=H[0],Q=H[1],R=(0,s.useState)((function(e){var t,n;return null!==(t=null===(n=c.state)||void 0===n?void 0:n.from)&&void 0!==t?t:e})),T=(0,r.Z)(R,1)[0],q=(0,s.useState)(!1),z=(0,r.Z)(q,2),B=z[0],I=z[1];(0,s.useEffect)((function(){I(!0),(0,o.s_)(n).then((function(e){g(e.original_title),b(e.release_date.slice(0,4)),M(Math.round(10*e.vote_average)),F(e.overview),K(e.genres.map((function(e){return e.name})).join(" ")),Q((function(){return e.poster_path?"https://image.tmdb.org/t/p/w300"+e.poster_path:"https://via.placeholder.com/300x450?text=No+poster+available"})),I(!1)}))}),[n]);var J=null!==(e=null===(t=c.state)||void 0===t?void 0:t.from)&&void 0!==e?e:T;return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)(x.S,{children:[(0,m.jsxs)("div",{className:l,children:[(0,m.jsx)(a.rU,{to:J,className:f,children:"\u2190 Go Back"}),(0,m.jsxs)("div",{className:p,children:[(0,m.jsx)("img",{className:v,src:O,alt:_}),(0,m.jsxs)("div",{className:d,children:[(0,m.jsxs)("h3",{children:[_," (",k,")"]}),(0,m.jsxs)("p",{children:["User Score: ",D,"%"]}),(0,m.jsx)("h4",{children:"Overview"}),(0,m.jsx)("p",{children:E}),(0,m.jsx)("h4",{children:"Genres"}),(0,m.jsx)("p",{children:P})]})]})]}),B&&(0,m.jsx)("h3",{children:"Loading ..."}),(0,m.jsx)(j,{variant:"additional"})]})})}},41:function(e,t,n){function r(e,t,n,r,s,a,i){try{var o=e[a](i),c=o.value}catch(u){return void n(u)}o.done?t(c):Promise.resolve(c).then(r,s)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(s,a){var i=e.apply(t,n);function o(e){r(i,s,a,o,c,"next",e)}function c(e){r(i,s,a,o,c,"throw",e)}o(void 0)}))}}n.d(t,{IQ:function(){return l},s_:function(){return u},XT:function(){return f},Jh:function(){return h},Hg:function(){return c}});var a=n(757),i=n.n(a),o="0a3a4e00d84de20a8f1b6dfc8a7cdfd5",c=function(){var e=s(i().mark((function e(){var t,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/trending/movie/day?api_key=".concat(o,"&per_page=10&page=1"));case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,console.log(n.results),e.abrupt("return",n.results);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=s(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/movie/".concat(t,"?api_key=").concat(o));case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=s(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/movie/".concat(t,"/credits?api_key=").concat(o));case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r.cast);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=s(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/movie/".concat(t,"/reviews?api_key=").concat(o));case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r.results);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=s(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/search/movie?query=".concat(t,"&api_key=").concat(o));case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r.results);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=955.d934faf8.chunk.js.map