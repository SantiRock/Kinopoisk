{"version":3,"file":"static/js/955.d934faf8.chunk.js","mappings":"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","sources":["components/ErrorBoundaries.jsx","../node_modules/clsx/dist/clsx.m.js","webpack://Kinopoisk/./src/styles/MoviesDetails.module.css?e7b5","pages/MoviesDetails.jsx","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","services/api.js"],"sourcesContent":["import { Component } from \"react\";\n\nexport class ErrorBoundary extends Component {\n    state = { hasError: false};\n  \n    componentDidCatch(error, info) {\n      this.setState({hasError: true});\n      console.log(error, info)\n    }\n  \n    render() {\n      if (this.state.hasError) {\n        return (\n            <>\n            <p></p>\n            <h2>Something went worng</h2>\n            <p>Please try again later</p>\n            </>\n\n        ) \n      }\n      return this.props.children\n    } \n  }\n  ","function r(e){var t,f,n=\"\";if(\"string\"==typeof e||\"number\"==typeof e)n+=e;else if(\"object\"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=\" \"),n+=f);else for(t in e)e[t]&&(n&&(n+=\" \"),n+=t);return n}export function clsx(){for(var e,t,f=0,n=\"\";f<arguments.length;)(e=arguments[f++])&&(t=r(e))&&(n&&(n+=\" \"),n+=t);return n}export default clsx;","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"MoviesDetails_container__6tWjV\",\"additional\":\"MoviesDetails_additional__MKDEz\",\"goback\":\"MoviesDetails_goback__vQaZ0\",\"details\":\"MoviesDetails_details__dds5F\",\"info\":\"MoviesDetails_info__PecCF\",\"img\":\"MoviesDetails_img__DRmwy\"};","import { useEffect, useState } from \"react\";\nimport { useParams, Link, Outlet, useLocation } from \"react-router-dom\";\nimport { getDetails } from \"services/api\";\nimport clsx from \"clsx\"\nimport css from '../styles/MoviesDetails.module.css'\nimport { ErrorBoundary } from \"components/ErrorBoundaries\";\n\nconst posterPad = 'https://image.tmdb.org/t/p/w300'\n\nconst AdditionalInfo = () => {\n\n    return (\n        <>\n         <div className={clsx(css.container, css.additional)}>\n            <p>Additional information</p>\n            <ul>\n                <li><Link to=\"cast\">Cast</Link></li>\n                <li><Link to=\"reviews\">Reviews</Link></li>\n            </ul>\n        </div>\n        <Outlet />\n        </>\n       \n    )\n}\n\nconst MoviesDetails = () => {\n    const { id } = useParams();\n    const location = useLocation();\n    const [title, setTitle] = useState('')\n    const [year, setYear] = useState('')\n    const [score, setScore] = useState('')\n    const [overview, setOverview] = useState('')\n    const [genres, setGenres] = useState('')\n    const [poster, setPoster] = useState('')\n    const [loc] = useState(prevState => location.state?.from ?? prevState)\n    const [loader, setLoader] = useState(false)\n\n    useEffect(() => {\n        setLoader(true)\n        getDetails(id)\n            .then(response => {\n                setTitle(response.original_title);\n                setYear(response.release_date.slice(0, 4));\n                setScore(Math.round(response.vote_average * 10))\n                setOverview(response.overview)\n                setGenres(response.genres.map(genre => genre.name).join(' '))\n                setPoster(() => {\n                    const poster = response.poster_path;\n                    if(!poster) {\n                        return 'https://via.placeholder.com/300x450?text=No+poster+available';\n                    } else {\n                    return posterPad + response.poster_path\n                    }\n                })\n                setLoader(false)\n            })\n    }, [id])\n    \n    const backLinkHref = location.state?.from ?? loc;\n\n    return (\n        <>\n        <ErrorBoundary>\n            <div className={css.container}>\n                <Link to={backLinkHref}  className={css.goback}>‚Üê Go Back</Link>\n                <div className={css.details}>\n                    <img className={css.img} src={poster} alt={title} />\n                    <div className={css.info}>\n                        <h3>{title} ({year})</h3>\n                        <p>User Score: {score}%</p>\n                        <h4>Overview</h4>\n                        <p>{overview}</p>\n                        <h4>Genres</h4>\n                        <p>{genres}</p>\n                    </div>\n                </div>\n            </div>\n            {loader && <h3>Loading ...</h3>}\n            <AdditionalInfo variant=\"additional\"/>\n        </ErrorBoundary>\n        </>       \n    )\n}\n\nexport default MoviesDetails","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","const ApiKey = '0a3a4e00d84de20a8f1b6dfc8a7cdfd5';\n\nexport const getTrending = async () => {\n    const response = await fetch(`https://api.themoviedb.org/3/trending/movie/day?api_key=${ApiKey}&per_page=10&page=1`);\n    const json = await response.json();\n    console.log(json.results);\n    return json.results;\n}\n\nexport const getDetails = async (id) => {\n    const response = await fetch(`https://api.themoviedb.org/3/movie/${id}?api_key=${ApiKey}`);\n    const json = await response.json();\n    //console.log(json)\n    return json\n}\n\nexport const getCast = async (id) => {\n    const response = await fetch(`https://api.themoviedb.org/3/movie/${id}/credits?api_key=${ApiKey}`);\n    const json = await response.json();\n    //console.log(json.cast[0])\n    return json.cast\n}\n\nexport const getReviews = async (id) => {\n    const response = await fetch(`https://api.themoviedb.org/3/movie/${id}/reviews?api_key=${ApiKey}`);\n    const json = await response.json();\n    //console.log(json.results)\n    return json.results\n}\n\nexport const getMovies = async (keyword) => {\n    const response = await fetch(`https://api.themoviedb.org/3/search/movie?query=${keyword}&api_key=${ApiKey}`);\n    const json = await response.json();\n    //console.log(json.results)\n    return json.results\n\n}"],"names":["ErrorBoundary","state","hasError","error","info","this","setState","console","log","props","children","Component","r","e","t","f","n","Array","isArray","length","arguments","AdditionalInfo","className","clsx","css","to","id","useParams","location","useLocation","useState","title","setTitle","year","setYear","score","setScore","overview","setOverview","genres","setGenres","poster","setPoster","prevState","from","loc","loader","setLoader","useEffect","getDetails","then","response","original_title","release_date","slice","Math","round","vote_average","map","genre","name","join","poster_path","backLinkHref","src","alt","variant","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","value","done","Promise","_asyncToGenerator","fn","self","args","apply","err","undefined","ApiKey","getTrending","fetch","json","results","getCast","cast","getReviews","getMovies","keyword"],"sourceRoot":""}